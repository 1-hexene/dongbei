# dongbei - 东北方言编程语言

* [引言](#引言)
* [系统要求](#系统要求)
* [安装](#安装)
* [你好，世界](#你好世界)
* [语言定义](#语言定义)
  * [词法](#词法)
    * [字符串常量](#字符串常量)
    * [注释](#注释)
    * [分词](#分词)
    * [标识符](#标识符)
    * [常数](#常数)
  * [语句](#语句)
  * [变量](#变量)
    * [变量定义](#变量定义)
    * [变量赋值](#变量赋值)
    * [变量引用](#变量引用)
  * [输出](#输出)
  * [字符串运算](#字符串运算)
  * [算术运算](#算术运算)
  
## 引言

dongbei是啥？它是一门*以东北方言词汇为基本关键字的以人为本的编程语言。*

这玩意儿可是填补了世界方言编程地图上的一大片儿空地啊！
这么说吧，谁要是看了 dongbei 程序能忍住了不笑，我敬他是纯爷们儿！

那它有啥特点咧？多了去了：

*  简单啊！小学文化程度就行。您能看懂春晚不？能？那就没问题。
*  好读啊！看着看着包您不由自主地念出声儿来。
*  开心啊！呃，做人嘛，最重要的是要开心。
*  开源啊！不但不要钱，而且不要脸 -- 随时随地欢迎东北话高手打脸指正。

dongbei 编程语言的开发采用了业界领先的 **TDD（TreeNewBee-Driven Development）** 方式。
具体地说，就是每个功能都是先把文案写好，八字没一撇牛皮就吹起来了，然后根据牛皮写测试案例，最后再实现功能让牛皮不被吹破。
这样做有两大好处：第一每个功能都是有的放矢，不值得 tree new bee 的功能一概没有。
第二确保了每个功能都有文案负责吹嘘，开发者的辛劳绝对不会被埋没。

不扯犊子了。翠花，上酸菜～～～

## 系统要求

dongbei 语言是基于 Python 二次开发的。
只要能跑 Python 的旮旯儿都能跑。
像 Mac OS 啦、Windows 啦、Linux 啦，等等等等，都成！

## 安装

甭麻烦了！直接跑 src/dongbei.py 就成。

## 你好，世界

创建一个名字叫 hello-world.dongbei 的文本文件，内容如下：

```
唠唠：“这旮旯儿嗷嗷美好哇！”。
```

用 utf-8 编码保存。
要是编辑器因为编码错误埋汰你，那就把文件内容改成

```
# -*- coding: utf-8 -*-

唠唠：“这旮旯儿嗷嗷美好哇！”。
```

再试，应该就成了。

然后在命令行窗口运行：

```
src/dongbei.py hello-world.dongbei
```

你应该看到执行结果：

```
这旮旯儿嗷嗷美好哇！
```

## 语言定义

学习一门语言，先得了解它的**词法**（怎么从一串串的字符组成词），然后是**语法**（怎么把词组成句子）和**语义**（这些句子都啥意思啊？）。
所以，咱们先讲讲 dongbei 语言词汇的构成。

### 词法

#### 字符串常量

一行代码当中，要是出现配对的中文全角双引号，比如

```
...“我是一个字符串”...
```

那么引号当中的内容（*我是一个字符串*）会被当成一个字符串常量。

#### 注释

一行代码当中，如果在字符串常量*外面*出现 **#** 字符，所有从 # 开始的字符都会被当成注释被忽略掉。
比如

```
唠唠：  # 我是一个注释。
    “嘎哈#？”。  # 我还是一个注释。
```
跟
```
唠唠：“嘎哈#？”。
```
是一样一样的。

#### 分词

大部分的西方语言在书写的时候要用空白字符或者标点把单词隔开，要不就会产生歧义。
比如 therapist（理疗师）和 the rapist（强X犯）就有很大的不同！

所以，西人开发的编程语言也一样啰嗦，动不动就要加空格，忒麻烦了。

dongbei 语言以人为本，适应华人的书写习惯，*加不加空格换行都无所谓。*
反正加了也白加（除非加在一个字符串常量的内部）。
所以对 dongbei 来说，

```
唠
  唠
    ：
      “嘎哈？”
        。
```
跟
```
唠唠：“嘎哈？”。
```
是一样一样的。

#### 标识符

代码里面除了各种有特俗意义的关键词（keyword），还会有各种用户定义的**标识符**（变量名、函数名、类型名，等等）。
在 dongbei 语言里面，除了关键词、标点符号和常数，剩下的都是标识符。
比如，在“张三乘李四”这个 dongbei 语言表达式里，“乘”是一个关键词，“张三”和“李四”是两个不同的标识符，

那么问题来了：dongbei 语言是不尿空格的，标识符和关键词之间没有明显的隔离。
要是标识符里包含关键词怎么办？
比如，我们知道“乘”是一个关键词，那还能用“阶乘”做函数名吗？
系统会不会把它理解成标识符“阶”和关键词“乘”？

不要方！
dongbei 语言允许你用中文全角方括号【】把一串字符标注为标识符。
比方说，“【阶乘】”就明明白白地是一个名字叫“阶乘”的标识符，绝对不会被当成是标识符“阶”加关键词“乘”。

#### 常数

除了用阿拉伯数字表示的十进制整数（比如 2、42、250，等等），0 到 10 的常数也可以用中文表达：

```
零一二三四五六七八九十
```

其中 `二` 也可以写成 `两`。

比如，
```
五加二
```
的意思就是 5 + 2。

### 语句

一个 dongbei 程序是由一串**语句**组成的。
每个语句以句号（。）结束。
为了表达程序员炽热的感情，也可以用感叹号（！）结束，意思和句号是一样一样的。
请大家根据自己的心情任选使用。

### 变量

dongbei 语言允许使用任何字符串做变量名。只要记住两点：

1. 变量名里所有的空白字符都会被忽略。
2. 有歧义的时候要把变量名用【】括起来。

#### 变量定义

dongbei 是一门以人为本的语言。
我们知道东北人都是活雷锋。
所以，要定义一个叫 XX 的变量，我们要写......

```
XX是活雷锋。
```

比如：
```
老王是活雷锋。
```

当然，热情洋溢的
```
老王是活雷锋！
```
也是可以的。

#### 变量赋值

dongbei 语言不整“赋值”这种文绉绉的词儿。
咱们叫“装”。
比如：
```
老王装二。
```
可以理解为 C 语言的
```
lao_wang = 2;
```

#### 变量引用

变量，呃，活雷锋定义以后就可以引用了。
引用的方法很简单：把活雷锋的名字写出来就成。
比如：
```
老张是活雷锋。
老王是活雷锋。
老张装250。
老王装老张加13。
```
定义了两个活雷锋：老张和老王。
老张值250。
老王值263。

### 输出

要输出信息，咱们得说“唠唠”。假定要说的信息是 YY，就得写
```
唠唠：YY。
```

比如说，活雷锋老王的当前值是263，那么
```
唠唠：老王。
```
的结果就是打印
```
263
```

唠的内容也可以是中文全角双引号括起来的字符串常量，像
```
唠唠：“诶呀妈呀！”。
```
的结果就是打印出
```
诶呀妈呀！
```

### 字符串运算

**顿号（、）** 操作符可以把两个值当成字符串拼接起来。
假定活雷锋老王的当前值是字符串“NB”，那么表达式
```
老王、“A”
```
的值就是字符串 `NBA`。而

```
“老王”、665加一
```
的值是 `老王666`。

### 算术运算

基本的四则运算 dongbei 都是支持的。举例说明：

表达式 | 含义
------|----
老王加老张 | 老王 + 老张
老王减老张 | 老王 - 老张
老王乘老张 | 老王 * 老张
老王除以老张 | 老王 / 老张

注意除法运算叫“除以”，不叫“除”。
问问你小学数学老师就知道，“A除B”的意思其实是“B除以A”，也就是说“B/A“。
所以，要是你说“2除6”，数学家会以为你在说3，而不是3分之1。

跟小学学过的一样，乘除的优先级比加减高。
相同优先级的情况下，运算从左到右。比如说：
```
3加2乘5
```
的结果是13，不是25。

